Сопроводительный документ к проекту CRM-виджета

1. Архитектурные решения:

Вынесение логики из контроллеров в сервисы для повторного использования и чистоты кода.

Использование Enum для статусов заявок — чтобы предотвротить ошибки со строковыми значениями.

Файлы обрабатываются через spatie/laravel-medialibrary — удобный и быстроисполнимый пакет.


2. Особенности реализации

Виджет работает через iframe, поддерживает загрузку файлов и валидацию на фронтенде и бэкенде. Чтобы не было ошибок при встраивании с csrf токенами - было добавлено исключение в мидлваре:

$middleware->validateCsrfTokens(except: [
        'api/tickets',
    ]);


Ограничение на отправку заявок — не более одной в сутки с одного email/телефона.

- Статус `DONE` фиксирует время ответа `replied_at`. 

API защищено CSRF-токеном и использует Sanctum для аутентификации.


2. Используемые библиотеки

Laravel 12 — актуальная версия на данный момент.

TailwindCSS — лёгкий CSS-фреймворк.

spatie/laravel-permission — для работы с ролями и доступами.
